webpackJsonp([3,0],{0:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i=a(17),o=s(i),r=a(59),n=s(r),l=a(136),u=s(l);a(77);var d=a(608),c=s(d);o.default.use(n.default),o.default.use(u.default),new o.default({el:"#app",template:"<personalManagement/>",components:{personalManagement:c.default}})},61:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),o=s(i),r=a(59),n=s(r);o.default.use(n.default),o.default.http.interceptors.push(function(e,t){t(function(e){var t=e.body;t&&1==t.idsIntercepted&&(this.$message({type:"warning",message:"授权信息过期，请重新登录！"}),setTimeout(function(){location.host.indexOf("dev")>=0||location.host.indexOf("sit")>=0?window.location="//sfsit.cnsuning.com/nsfuaa-admin/home.htm":location.host.indexOf("pre")>=0?window.location="//sfpre.cnsuning.com/nsfuaa-admin/home.htm":window.location="//sf.cnsuning.com/nsfuaa-admin/home.htm"},2e3))})});var l={dateToString:function(e){if(!e)return"";e=new Date(e);var t=e.getFullYear(),a=parseInt(e.getMonth()+1,10),s=a<10?"0"+a:a,i=e.getDate(),o=i<10?"0"+i:i;return t+"-"+s+"-"+o},dateToString2:function(e){if(!e)return"";e=new Date(e);var t=e.getFullYear(),a=parseInt(e.getMonth()+1,10),s=a<10?"0"+a:a,i=e.getDate(),o=i<10?"0"+i:i;return t+s+o},getBrowserInfo:function(){var e={},t=navigator.userAgent.toLowerCase(),a=/(msie|firefox|chrome|opera|version).*?([\d.]+)/,s=t.match(a);return e.browser=s[1].replace(/version/,"'safari"),e.ver=s[2],e},getUrlArgs:function(){for(var e=location.search.substring(1),t=e.split("&"),a={},s=void 0,i=void 0,o=void 0,r=void 0,n=0;n<t.length;n++)s=t[n],i=s.indexOf("="),i!=-1&&(o=s.substring(0,i),r=decodeURIComponent(s.substring(i+1)),a[o]=r);return a},$ajax:function(e,t,a){if(!t)return void e.$message.error("接口请求参数错误");var s=t.params?t.params:{},i=t.type?t.type:"get";"get"==i?e.$http.get(t.url,{params:s}).then(function(e){a(e)},function(t){e.$message.error("接口调用失败")}):e.$http.post(t.url,s).then(function(e){a(e)},function(t){e.$message.error("接口调用失败")})},sa:function(){function e(e){for(var t=e,a=document.getElementsByTagName("script"),s=0;s<a.length;s++)if(a[s].src==t)return;var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=t;var o=a[0];o.parentNode.insertBefore(i,o)}function t(e){var t=document.location.hostname,a=".suning.com",s="pre.cnsuning.com",i="sit.cnsuning.com",o="";return o=t.indexOf(a)!=-1?"//res.suning.cn":t.indexOf(s)!=-1?"//resprexg.suning.cn/project":t.indexOf(i)!=-1?"//sitres.suning.cn":"//res.suning.cn",o=o+"/javascript/sn_da/"+e}e(t("sa_simple.js"))},dateTranfer:function(e){var t=new Date(e),a=t.getFullYear()+"-"+parseInt(t.getMonth()+1)+"-"+parseInt(t.getDate()),s=a.split("-");return s[1]=s[1]>10?s[1]:"0"+s[1],s[2]=s[2]>10?s[2]:"0"+s[2],a},transferDate:function(e,t){if(e){var a=new Date(e),s=a.getFullYear()+"-"+(parseInt(a.getMonth()+1)>=10?parseInt(a.getMonth()+1):"0"+parseInt(a.getMonth()+1))+"-"+(a.getDate()>=10?a.getDate():"0"+a.getDate());return s+=1==t?" 00:00:00":" 23:59:59"}return""}};t.default=l},62:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="/nsfdas-web/",s="/sntk-admin/",i={getAuthInfo:a+"getAuthInfo.htm",queryAllDistrictOrg:a+"o2OGuide/queryAllDistrictOrg.htm",queryAllSaleOrgByDistrictCode:a+"o2OGuide/queryAllSaleOrgByDistrictCode.htm",queryAllSitesBySaleOrg:a+"o2OGuide/queryAllSitesBySaleOrg.htm",queryGuideServiceTotal:a+"o2OGuide/queryGuideServiceTotal.htm",queryGuideSaleTotal:a+"o2OGuide/queryGuideSaleTotal.htm",queryGuideTrendStatis:a+"o2OGuide/queryGuideTrendStatis.htm",queryGuideAnalysisData:a+"o2OGuide/queryGuideAnalysisData.htm",queryGuideCmmdtyAnalysis:a+"o2OGuide/queryGuideCmmdtyAnalysis.htm",searchSessionList:a+"o2OGuide/queryGuideSessionList.htm",sessionDetailList:a+"o2OGuide/queryGuideSessionDetail.htm",districtOrgList:a+"o2OGuide/queryAllDistrictOrg.htm",saleOrgList:a+"o2OGuide/queryAllSaleOrgByDistrictCode.htm",sitetList:a+"o2OGuide/queryAllSitesBySaleOrg.htm",authInfo:a+"getAuthInfo.htm",queryUserInfo:s+"admin/organization/queryUserInfo.do",queryBranchList:s+"admin/organization/queryBranchList.do",queryStoreList:s+"admin/organization/queryStoreList.do",queryRegionList:s+"admin/organization/queryRegionList.do",queryStationList:s+"admin/organization/queryStationList.do",queryStaffInfoPage:s+"admin/staffManage/queryStaffInfoPage.do",queryEmployExt:s+"admin/staffManage/queryEmployExt.do",addStaffInfo:s+"admin/staffManage/addStaffInfo.do",queryStation:s+"admin/staffManage/queryStation.do",addStaffInfoByOrgPos:s+"admin/staffManage/addStaffInfoByOrgPos.do",modifyStaffStatus:s+"admin/staffManage/modifyStaffStatus.do",deleteStaffInfo:s+"admin/staffManage/deleteStaffInfo.do"};t.default=i},77:function(e,t){},153:function(e,t){},278:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(284),o=s(i),r=a(61),n=s(r),l=a(62),u=s(l);t.default={data:function(){var e;return e={exportDisabled:!0,staffNameDiaLog:"",flagDataList:[],makeSure:!0,fileList:[],ruleForm:{area:"",areaName:"",company:"",companyName:"",shop:"",shopName:"",quarters:"",quartersName:""},staffStationListDia:[],arr:[],rules:{area:[{required:!0,message:"请选择大区",trigger:"blur"}],company:[{required:!0,message:"请选择分公司",trigger:"blur"}],shop:[{required:!0,message:"请选择门店",trigger:"blur"}],quarters:[{required:!0,message:"请选择岗位",trigger:"blur"}]},radioData1:[],staffName:"",staffNum:"",uploadDialogShow:!1,storeName:"",showRadio1:!0,showRadio2:!1,pageSize:10,pageNumber:1,areaCode:"",branchCode:"",storeCode:"",custName:"",custId:""},(0,o.default)(e,"staffName",""),(0,o.default)(e,"staffId",""),(0,o.default)(e,"sessionList",[]),(0,o.default)(e,"selectIds",[]),(0,o.default)(e,"sessionRecordList",[]),(0,o.default)(e,"districtList",[{regionCode:"",regionName:"全部大区"}]),(0,o.default)(e,"saleOrgList",[{compCode:"",compName:"全部分公司"}]),(0,o.default)(e,"sitetList",[{storeCode:"",storeName:"全部门店"}]),(0,o.default)(e,"staffStation",""),(0,o.default)(e,"staffStationList",[]),(0,o.default)(e,"staffDetailList",[]),(0,o.default)(e,"status",""),(0,o.default)(e,"statusList",[{name:"全部状态",code:""},{name:"启用",code:"1"},{name:"禁用",code:"2"},{name:"错误",code:"3"}]),(0,o.default)(e,"total",0),(0,o.default)(e,"inputName",""),(0,o.default)(e,"inputNum",""),(0,o.default)(e,"inputShopName",""),(0,o.default)(e,"inputShopNum",""),(0,o.default)(e,"dialogShow",!1),(0,o.default)(e,"activeName","first"),(0,o.default)(e,"authKey",""),(0,o.default)(e,"orgLevelCode",""),(0,o.default)(e,"labelNum","1"),(0,o.default)(e,"radio","1"),e},computed:{},methods:{uploadClose:function(){this.fileList=[],this.uploadDialogShow=!1},beforeUpload:function(e){},fileProgress:function(){console.log(111111)},fileChange:function(e,t){console.log(e,t);var a=e.size/1024<=25,s=e.name.indexOf(".")+1,i=e.name.substr(s),o="xls"==i||"xlsx"==i;return o?a?void(this.exportDisabled=!1):(this.$message.error("上传文件不能超过1000条 !"),void(this.fileList=[])):(this.$message.error("请上传xls或者xlsx文件!"),void(this.fileList=[]))},importExcel:function(){this.uploadDialogShow=!0},uploadSubmit:function(){console.log(this.fileList),this.$refs.upload.submit()},handleExceed:function(e,t){this.$message({message:"当前限制选择 1 个文件",type:"warning"})},handleRemove:function(e,t){this.exportDisabled=!0;var a=e.name.indexOf(".")+1,s=e.name.substr(a);return("xls"==s||"xlsx"==s)&&void this.$message({message:"移除成功！",type:"success"})},cancel:function(){this.fileList=[],this.uploadDialogShow=!1},downloadExcel:function(){window.location.href="static/docs/staffImport.xlsx"},submitSuccess:function(e){console.log(this.fileList),e.success?(this.$message("上传成功"),this.fileList=[],this.uploadDialogShow=!1):this.$message("上传失败")},inputExcel:function(){this.uploadDialogShow=!0},deleteStaff:function(){var e=this;if(!this.selectIds.length)return void this.$message({type:"warning",message:"请先勾选需要删除的员工"});var t=this.selectIds.join(","),a={ids:t};this.$http.get(u.default.deleteStaffInfo,{params:a}).then(function(t){t.body.success?(e.$message({message:"删除成功！",type:"success"}),e.butSearchList()):e.$message.warning("删除失败！")},function(t){e.$message.error("接口调用失败")})},useStaff:function(){if(!this.selectIds.length)return void this.$message({type:"warning",message:"请先勾选需要启用的员工"});var e=this.selectIds.join(",");this.useOrlimitStaff(e,1)},limitStaff:function(){if(!this.selectIds.length)return void this.$message({type:"warning",message:"请先勾选需要禁用的员工"});var e=this.selectIds.join(",");this.useOrlimitStaff(e,2)},useOrlimitStaff:function(e,t){var a=this;if(this.flagDataList.length)for(var s=0;s<this.flagDataList.length;s++)if(3==this.flagDataList[s])return void this.$message.error("选中数据中存在错误状态，无法进行此操作");var i={ids:e,validFlag:t};this.$http.get(u.default.modifyStaffStatus,{params:i}).then(function(e){e.body.success?(a.$message({message:"操作成功！",type:"success"}),a.butSearchList()):a.$message.warning("操作失败！")},function(e){a.$message.error("接口调用失败")})},radioChange1:function(){this.makeSure=!0,this.showRadio2=!1,this.showRadio1=!0,this.labelNum=1},radioChange2:function(){this.districtList=[{regionCode:"",regionName:"全部大区"}],this.saleOrgList=[{compCode:"",compName:"全部分公司"}],this.sitetList=[{storeCode:"",storeName:"全部门店"}],this.ruleForm.quarters="",this.makeSure=!0,this.showRadio1=!1,this.showRadio2=!0,this.labelNum=2,this.getAuthInfo(),this.searchStation()},cancelAdd:function(){this.dialogShow=!1},addPersion:function(){this.radioData1=[],this.staffDetailList=[],this.staffNum="",this.makeSure=!0,this.staffNameDiaLog="",this.radio="1",this.showRadio2=!1,this.showRadio1=!0,this.dialogShow=!0},jumpPage:function(e){this.pageNumber=e,this.searchList()},searchStation:function(){var e=this;this.$http.get(u.default.queryStation,{params:{}}).then(function(t){var a=t.data;if(a.success){var s={stationCode:"",stationName:"全部岗位"};t.body.data.unshift(s),e.staffStationListDia=t.body.data?t.body.data:[]}else a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},doAdd:function(){var e=this;if(1==this.labelNum){var t={staffInfoList:this.radioData1};this.$http.post(u.default.addStaffInfo,t).then(function(t){""==t.body.data?(e.$message({message:"新增成功！",type:"success"}),e.dialogShow=!1,e.searchList()):e.$message.warning(t.body.data)},function(t){e.$message.error("接口调用失败")})}else{var t={areaCode:this.ruleForm.area,areaName:this.ruleForm.areaName,companyCode:this.ruleForm.company,companyName:this.ruleForm.companyName,storeCode:this.ruleForm.shop,storeName:this.ruleForm.shopName,stationCode:this.ruleForm.quarters,station:this.ruleForm.quartersName};this.$http.post(u.default.addStaffInfoByOrgPos,t).then(function(t){""==t.body.data?(e.$message({message:"新增成功！",type:"success"}),e.dialogShow=!1,e.searchList()):e.$message.warning(t.body.data)},function(t){e.$message.error("接口调用失败")})}},searchStaff:function(){var e=this;if(""==this.staffNum)return this.staffNameDiaLog="",this.staffDetailList=[],void this.$message({type:"warning",message:"工号不能为空"});var t=/^\d{8}$/;return t.test(this.staffNum)?void this.$http.get(u.default.queryEmployExt,{params:{staffId:this.staffNum}}).then(function(t){var a=t.data;a.success?a.data.staffInfoList.length?(e.staffDetailList=a.data.staffInfoList,e.staffNameDiaLog=a.data.staffInfoList[0]?a.data.staffInfoList[0].staffName:""):(e.staffDetailList=[],e.staffNameDiaLog="1"==a.data.flag?"该人员不存在门店岗位，不能添加":"此人员不在您管辖范围内，无法添加"):a.errorMsg&&e.$message({type:"warning",message:"系统异常"+a.errorMsg})},function(t){e.$message.error("接口调用失败")}):(this.staffNameDiaLog="",this.staffDetailList=[],void this.$message({type:"warning",message:"工号为8位纯数字"}))},butSearchList:function(){this.pageNumber=1,this.searchList()},searchList:function(){var e=this;this.sessionList=[],this.total=0;var t="";switch(this.staffStation){case"":t="";break;case"00000290":t="店长";break;case"00000291":t="副店长";break;case"00000300":t="销售督导";break;case"00010001":t="营业员";break;case"00010002":t="促销员";break;case"00000569":t="服务专员"}var a={staffId:this.staffId,staffName:this.staffName,areaCode:this.areaCode,companyCode:this.branchCode,storeCode:this.storeCode,station:t,validFlag:this.status};this.$http.post(u.default.queryStaffInfoPage+"?page="+this.pageNumber+"&size=10",a).then(function(t){var a=t.data;a.success?(e.sessionList=a.data.content,e.total=a.data.totalElements):a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},getdistrictList:function(){var e=this;this.$http.get(u.default.queryRegionList,{params:{}}).then(function(t){var a=t.data;a.success?(e.districtList.push.apply(e.districtList,a.data),e.branchCode="",e.storeCode="",0==e.orgLevelCode&&(e.areaCode=""),e.selectOrgLevelCode(e.orgLevelCode)):a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},getsaleOrgList:function(){var e=this;this.$http.get(u.default.queryBranchList,{params:{regionCode:this.areaCode}}).then(function(t){var a=t.data;a.success?(e.saleOrgList.push.apply(e.saleOrgList,a.data),e.storeCode="",e.selectOrgLevelCode(e.orgLevelCode)):a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},getsaleOrgList1:function(){var e=this;this.$http.get(u.default.queryBranchList,{params:{regionCode:this.ruleForm.area}}).then(function(t){var a=t.data;a.success?(e.saleOrgList.push.apply(e.saleOrgList,a.data),e.ruleForm.shop="",e.selectOrgLevelCode(e.orgLevelCode)):a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},getsitetList:function(){var e=this;this.$http.get(u.default.queryStoreList,{params:{compCode:this.branchCode}}).then(function(t){var a=t.data;a.success?(e.sitetList.push.apply(e.sitetList,a.data),e.selectOrgLevelCode(e.orgLevelCode)):a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},getsitetList1:function(){var e=this;this.$http.get(u.default.queryStoreList,{params:{compCode:this.ruleForm.company}}).then(function(t){var a=t.data;a.success?(e.sitetList.push.apply(e.sitetList,a.data),e.selectOrgLevelCode(e.orgLevelCode)):a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},queryStation:function(){var e=this;this.$http.get(u.default.queryStationList,{params:{authKey:this.authKey}}).then(function(t){var a=t.data;if(a.success){var s={stationCode:"",stationName:"全部岗位"};t.body.data.unshift(s),e.staffStationList=t.body.data?t.body.data:[]}else a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},selectOrgLevelCode:function(e){4!=e&&2!=e&&1!=e||(this.districtList=[{regionCode:this.areaCode,regionName:this.areaName}]),4!=e&&1!=e||(this.saleOrgList=[{compCode:this.branchCode,compName:this.branchName}]),4==e&&(this.sitetList=[{storeCode:this.storeCode,storeName:this.storeName}])},changeDdistrictList:function(e){1==e?(this.branchCode="",this.storeCode="",this.saleOrgList=[{compCode:"",compName:"全部分公司"}],this.sitetList=[{storeCode:"",storeName:"全部门店"}],""!=this.areaCode&&this.getsaleOrgList()):(this.ruleForm.company="",this.ruleForm.shop="",this.saleOrgList=[{compCode:"",compName:"全部分公司"}],this.sitetList=[{storeCode:"",storeName:"全部门店"}],""!=this.ruleForm.area&&this.getsaleOrgList1(),this.cearchAreaName(1),this.checkNull())},cearchAreaName:function(e){if(1==e)for(var t=0;t<this.districtList.length;t++)if(this.ruleForm.area==this.districtList[t].regionCode){this.ruleForm.areaName=this.districtList[t].regionName;break}if(2==e)for(var a=0;a<this.saleOrgList.length;a++)if(this.ruleForm.company==this.saleOrgList[a].compCode){this.ruleForm.companyName=this.saleOrgList[a].compName;break}if(3==e)for(var s=0;s<this.sitetList.length;s++)if(this.ruleForm.shop==this.sitetList[s].storeCode){this.ruleForm.shopName=this.sitetList[s].storeName;break}if(4==e)for(var i=0;i<this.staffStationListDia.length;i++)if(this.ruleForm.quarters==this.staffStationListDia[i].stationCode){this.ruleForm.quartersName=this.staffStationListDia[i].stationName;break}},changeStation:function(){this.cearchAreaName(4),this.checkNull()},changeShop:function(){this.cearchAreaName(3),this.checkNull()},checkNull:function(){""==this.ruleForm.area||""==this.ruleForm.company||""==this.ruleForm.shop||""==this.ruleForm.quarters?this.makeSure=!0:this.makeSure=!1},changeSaleOrgList:function(e){1==e?(this.storeCode="",this.sitetList=[{storeCode:"",storeName:"全部门店"}],""!=this.areaCode&&""!=this.branchCode&&this.getsitetList()):(this.ruleForm.shop="",this.sitetList=[{storeCode:"",storeName:"全部门店"}],""!=this.ruleForm.area&&""!=this.ruleForm.company&&this.getsitetList1(),this.cearchAreaName(2),this.checkNull())},getAuthInfo:function(){var e=this;this.$http.get(u.default.queryUserInfo,{params:{authKey:this.authKey}}).then(function(t){var a=t.data;a.success?(e.orgLevelCode=a.data.orgLevel,e.orgLevelName=a.data.orgName,e.storeCode=a.data.storeCode?a.data.storeCode:"",e.storeName=a.data.storeName?a.data.storeName:"",e.branchCode=a.data.branchCode?a.data.branchCode:"",e.branchName=a.data.branchName?a.data.branchName:"",e.areaCode=a.data.region5Code?a.data.region5Code:"",e.areaName=a.data.regionName?a.data.regionName:"",e.ruleForm.shopName=e.storeName,e.ruleForm.companyName=e.branchName,e.ruleForm.areaName=e.areaName,e.ruleForm.area=e.areaCode,e.ruleForm.company=e.branchCode,e.ruleForm.shop=e.storeCode,4==e.orgLevelCode||1==e.orgLevelCode?e.getsitetList():2==e.orgLevelCode?e.getsaleOrgList():0==e.orgLevelCode&&e.getdistrictList(),2!=e.labelNum&&e.searchList()):a.message&&e.$message({type:"warning",message:a.message})},function(t){e.$message.error("接口调用失败")})},handleSelectionChange:function(e){this.selectIds=[],this.flagDataList=[];for(var t=0;t<e.length;t++)this.selectIds.push(e[t].id),this.flagDataList.push(e[t].validFlag)},staffSelectionChange:function(e){for(var t=0;t<e.length;t++)null==e[t].storeCode||""==e[t].storeCode?this.makeSure=!0:this.makeSure=!1,this.radioData1.push(e[t])}},mounted:function(){var e=n.default.getUrlArgs();this.authKey=e.authKey,this.getAuthInfo(),this.queryStation()}}},599:function(e,t){},608:function(e,t,a){var s,i;a(599),s=a(278);var o=a(612);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,e.exports=s},612:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"idx-main"},[a("p",{staticClass:"u-title"},[e._v("人员管理")]),e._v(" "),a("div",{staticClass:"select-head"},[a("div",{staticClass:"item-head"},[a("span",[e._v("大区:")]),e._v(" "),a("el-select",{attrs:{filterable:"",disabled:1==e.orgLevelCode||2==e.orgLevelCode||4==e.orgLevelCode},on:{change:function(t){e.changeDdistrictList(1)}},model:{value:e.areaCode,callback:function(t){e.areaCode=t},expression:"areaCode"}},e._l(e.districtList,function(e,t){return a("el-option",{key:t,attrs:{label:e.regionName,value:e.regionCode}})}))],1),e._v(" "),a("div",{staticClass:"item-head"},[a("span",[e._v("分公司:")]),e._v(" "),a("el-select",{attrs:{filterable:"",disabled:1==e.orgLevelCode||4==e.orgLevelCode},on:{change:function(t){e.changeSaleOrgList(1)}},model:{value:e.branchCode,callback:function(t){e.branchCode=t},expression:"branchCode"}},e._l(e.saleOrgList,function(e,t){return a("el-option",{key:t,attrs:{label:e.compName,value:e.compCode}})}))],1),e._v(" "),a("div",{staticClass:"item-head"},[a("span",[e._v("门店:")]),e._v(" "),a("el-select",{attrs:{filterable:"",disabled:4==e.orgLevelCode},model:{value:e.storeCode,callback:function(t){e.storeCode=t},expression:"storeCode"}},e._l(e.sitetList,function(e,t){return a("el-option",{key:t,attrs:{label:e.storeName,value:e.storeCode}})}))],1)]),e._v(" "),a("div",{staticClass:"select-head"},[a("div",{staticClass:"item-head"},[a("span",[e._v("岗位:")]),e._v(" "),a("el-select",{attrs:{filterable:""},model:{value:e.staffStation,callback:function(t){e.staffStation=t},expression:"staffStation"}},e._l(e.staffStationList,function(e,t){return a("el-option",{key:e.stationCode,attrs:{label:e.stationName,value:e.stationCode}})}))],1),e._v(" "),a("div",{staticClass:"item-head"},[a("span",[e._v("状态:")]),e._v(" "),a("el-select",{attrs:{filterable:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div",{staticClass:"item-head"},[a("span",[e._v("人员工号:")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入人员工号"},model:{value:e.staffId,callback:function(t){e.staffId=t},expression:"staffId"}})],1),e._v(" "),a("div",{staticClass:"item-head"},[a("span",[e._v("人员姓名:")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入人员姓名"},model:{value:e.staffName,callback:function(t){e.staffName=t},expression:"staffName"}})],1),e._v(" "),a("el-button",{staticClass:"item-head",attrs:{type:"primary"},on:{click:e.butSearchList}},[e._v("查询")])],1),e._v(" "),a("p",{staticClass:"oper-btn align-left",staticStyle:{width:"50%",float:"left","margin-left":"30px"}},[a("el-button",{attrs:{size:"small"},on:{click:e.deleteStaff}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.useStaff}},[e._v("启用")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.limitStaff}},[e._v("禁用")])],1),e._v(" "),a("p",{staticClass:"oper-btn align-rigth",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{size:"small"},on:{click:e.addPersion}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.inputExcel}},[e._v("导入")])],1),e._v(" "),a("div",{staticClass:"sessionCon"},[a("el-table",{attrs:{align:"center",data:e.sessionList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"大区"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:3==t.row.validFlag?"redSpan":""},[e._v(e._s(t.row.areaName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"分公司"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:3==t.row.validFlag?"redSpan":""},[e._v(e._s(t.row.companyName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"门店"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:3==t.row.validFlag?"redSpan":""},[e._v(e._s(t.row.storeName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"人员姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:3==t.row.validFlag?"redSpan":""},[e._v(e._s(t.row.staffName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"人员工号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:3==t.row.validFlag?"redSpan":""},[e._v(e._s(t.row.staffId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"岗位"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:3==t.row.validFlag?"redSpan":""},[e._v(e._s(t.row.station))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:3==t.row.validFlag?"redSpan":""},[e._v(e._s(t.row.validFlag?1==t.row.validFlag||2==t.row.validFlag?1==t.row.validFlag?"启用":"禁用":"错误":""))])]}}])})],1),e._v(" "),e.total>0?a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageNumber,"page-size":10,total:e.total},on:{"current-change":e.jumpPage}})],1):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"新增人员",visible:e.dialogShow,width:"520px"},on:{"update:visible":function(t){e.dialogShow=t}}},[a("div",{staticStyle:{width:"40%","margin-left":"5%",float:"left"}},[a("el-radio",{attrs:{label:"1"},on:{change:e.radioChange1},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("按工号查询")])],1),e._v(" "),a("div",{staticStyle:{width:"40%","margin-left":"5%",float:"left"}},[a("el-radio",{attrs:{label:"2"},on:{change:e.radioChange2},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("按组织查询")])],1),e._v(" "),a("div",{staticStyle:{width:"90%","margin-left":"5%","margin-top":"30px"}},[[e.showRadio1?[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"人员工号:"}},[a("el-input",{attrs:{placeholder:"请输入人员工号"},model:{value:e.staffNum,callback:function(t){e.staffNum=t},expression:"staffNum"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchStaff}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{attrs:{label:"人员姓名:"}},[e._v(e._s(e.staffNameDiaLog))])],1),e._v(" "),e.staffDetailList.length>0?a("el-table",{attrs:{data:e.staffDetailList,stripe:""},on:{"selection-change":e.staffSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"areaName",label:"大区"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyName",label:"分公司"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"门店"}}),e._v(" "),a("el-table-column",{attrs:{prop:"station",label:"岗位"}})],1):e._e()]:e._e(),e._v(" "),e.showRadio2?[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,inline:!0}},[a("el-form-item",{attrs:{prop:"area",label:"大区:"}},[a("el-select",{attrs:{placeholder:"请选择大区",filterable:"",disabled:1==e.orgLevelCode||2==e.orgLevelCode||4==e.orgLevelCode},on:{change:function(t){e.changeDdistrictList(2)}},model:{value:e.ruleForm.area,callback:function(t){e.$set(e.ruleForm,"area",t)},expression:"ruleForm.area"}},e._l(e.districtList,function(e,t){return a("el-option",{key:t,attrs:{label:e.regionName,value:e.regionCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"company",label:"分公司:"}},[a("el-select",{attrs:{placeholder:"请选择分公司",disabled:1==e.orgLevelCode||4==e.orgLevelCode},on:{change:function(t){e.changeSaleOrgList(2)}},model:{value:e.ruleForm.company,callback:function(t){e.$set(e.ruleForm,"company",t)},expression:"ruleForm.company"}},e._l(e.saleOrgList,function(e,t){return a("el-option",{key:t,attrs:{label:e.compName,value:e.compCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"门店:",prop:"shop"}},[a("el-select",{attrs:{placeholder:"请选择门店",disabled:4==e.orgLevelCode},on:{change:e.changeShop},model:{value:e.ruleForm.shop,callback:function(t){e.$set(e.ruleForm,"shop",t)},expression:"ruleForm.shop"}},e._l(e.sitetList,function(e,t){return a("el-option",{key:t,attrs:{label:e.storeName,value:e.storeCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位:",prop:"quarters"}},[a("el-select",{attrs:{placeholder:"请选择岗位"},on:{change:e.changeStation},model:{value:e.ruleForm.quarters,callback:function(t){e.$set(e.ruleForm,"quarters",t)},expression:"ruleForm.quarters"}},e._l(e.staffStationListDia,function(e,t){return a("el-option",{key:e.stationCode,attrs:{label:e.stationName,value:e.stationCode}})}))],1)],1)]:e._e(),e._v(" "),a("el-form",[a("el-form-item",[a("el-button",{attrs:{disabled:e.makeSure,type:"primary"},on:{click:e.doAdd}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:e.cancelAdd}},[e._v("取消")])],1)],1)]],2)]),e._v(" "),a("el-dialog",{attrs:{title:"选择文件",visible:e.uploadDialogShow,width:"25%","before-close":e.uploadClose},on:{"update:visible":function(t){e.uploadDialogShow=t}}},[a("div",{staticClass:"dialog-table"},[a("el-form",{ref:"form",attrs:{model:e.editForm,rules:e.rules,"label-width":"30%"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/sntk-admin/admin/staffManage/uploadFile.do",data:{file:e.fileList},"on-change":e.fileChange,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,limit:1,"on-exceed":e.handleExceed,"auto-upload":!1,"before-upload":e.beforeUpload,"file-list":e.fileList,"on-success":e.submitSuccess}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")]),e._v(" "),a("div",{staticClass:"el-upload-doload",staticStyle:{cursor:"pointer","line-height":"30px",color:"blue"},attrs:{slot:"tip"},on:{click:e.downloadExcel},slot:"tip"},[e._v("模板下载")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("文件格式为xls、xlsx，且不得超过1000条数据")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.exportDisabled},on:{click:e.uploadSubmit}},[e._v("开始上传")])],1)])],1)},staticRenderFns:[]}}});