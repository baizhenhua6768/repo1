<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!---0.MQ连接工厂begin-->
	<bean id="sntkQueueConnectionFactory" class="com.ibm.mq.jms.MQQueueConnectionFactory">
		<property name="queueManager" value="$[mq_queueManager]"></property>
		<property name="connectionNameList" value="$[mq_connectionNameList]"></property>
		<property name="clientReconnectOptions" value="33554432"></property>
		<property name="channel" value="$[mq_channel]"></property>
		<property name="transportType" value="1"></property>
		<property name="CCSID" value="1208"></property>
	</bean>
	<!---0.MQ连接工厂end-->

	<!--1.mq Listener监听配置，每个监听需要配置三项： 1.监听处理类 2.接收队列 3.监听容器 begin-->

	<!--1.1 监听描述 监听离职人员通知begin -->
	<!--监听配置-->
	<bean id="separatePersonListener" class="com.suning.sntk.admin.mq.listener.staffwhitelist.SeparatePersonListener"/>
	<!--队列配置-->
	<bean id="MBF_hrdsSeparatePersonInfo_SNTK" class="com.ibm.mq.jms.MQQueue">
		<property name="baseQueueName" value="MBF_hrdsSeparatePersonInfo_SNTK"></property>
		<property name="CCSID" value="1208"></property>
	</bean>
	<!--容器配置-->
	<bean id="separatePersonContainer"
		  class="org.springframework.jms.listener.DefaultMessageListenerContainer">
		<property name="concurrentConsumers" value="1" />
		<property name="maxConcurrentConsumers" value="2" />
		<property name="connectionFactory" ref="sntkQueueConnectionFactory" />
		<property name="destination" ref="MBF_hrdsSeparatePersonInfo_SNTK" />
		<property name="messageListener" ref="separatePersonListener" />
		<property name="sessionTransacted" value="false"></property>
	</bean>
	<!--1.1 监听描述 end -->

	<!--1.2 监听描述 监听门店信息变更通知 begin -->
	<!--监听配置-->
	<bean id="storeBaseInfoReceiveListener" class="com.suning.sntk.admin.mq.listener.staffwhitelist.StoreBaseInfoReceiveListener"/>
	<!--队列配置-->
	<bean id="MBF_syncStoreInfo_SNTK" class="com.ibm.mq.jms.MQQueue">
		<property name="baseQueueName" value="MBF_syncStoreInfo_SNTK"></property>
		<property name="CCSID" value="1208"></property>
	</bean>
	<!--容器配置-->
	<bean id="storeInfoContainer"
		  class="org.springframework.jms.listener.DefaultMessageListenerContainer">
		<property name="concurrentConsumers" value="1" />
		<property name="maxConcurrentConsumers" value="2" />
		<property name="connectionFactory" ref="sntkQueueConnectionFactory" />
		<property name="destination" ref="MBF_syncStoreInfo_SNTK" />
		<property name="messageListener" ref="storeBaseInfoReceiveListener" />
		<property name="sessionTransacted" value="false"></property>
	</bean>
	<!--1.2 监听描述 end -->

	<!--1.3 监听描述 监听微信扫描事件 begin -->
	<!--监听配置-->
	<bean id="scanCodeListener" class="com.suning.sntk.admin.mq.listener.wechat.ScanCodeListener"/>
	<!--队列配置-->
	<bean id="MBF_scanSceneQrCode_SNTK" class="com.ibm.mq.jms.MQQueue">
		<property name="baseQueueName" value="MBF_scanSceneQrCode_SNTK"></property>
		<property name="CCSID" value="1208"></property>
	</bean>
	<!--容器配置-->
	<bean id="scanSceneContainer"
		  class="org.springframework.jms.listener.DefaultMessageListenerContainer">
		<property name="concurrentConsumers" value="1" />
		<property name="maxConcurrentConsumers" value="2" />
		<property name="connectionFactory" ref="sntkQueueConnectionFactory" />
		<property name="destination" ref="MBF_scanSceneQrCode_SNTK" />
		<property name="messageListener" ref="scanCodeListener" />
		<property name="sessionTransacted" value="false"></property>
	</bean>
	<!--1.3 监听描述 end -->

	<!--1.4 监听描述 监听微信关注事件begin -->
	<!--监听配置-->
	<bean id="subscribeListener" class="com.suning.sntk.admin.mq.listener.wechat.SubscribeListener"/>
	<!--队列配置-->
	<bean id="MBF_subscribePush_SNTK" class="com.ibm.mq.jms.MQQueue">
		<property name="baseQueueName" value="MBF_subscribePush_SNTK"></property>
		<property name="CCSID" value="1208"></property>
	</bean>
	<!--容器配置-->
	<bean id="subscribeContainer"
		  class="org.springframework.jms.listener.DefaultMessageListenerContainer">
		<property name="concurrentConsumers" value="1" />
		<property name="maxConcurrentConsumers" value="2" />
		<property name="connectionFactory" ref="sntkQueueConnectionFactory" />
		<property name="destination" ref="MBF_subscribePush_SNTK" />
		<property name="messageListener" ref="subscribeListener" />
		<property name="sessionTransacted" value="false"></property>
	</bean>
	<!--1.4 监听描述 end -->
	<!--2.mq Listener监听配置，每个监听需要配置三项：1.监听处理类 2.接收队列 3.监听容器  end-->
</beans>